---
import Layout from '../layouts/Layout.astro';
import ExplainerVideo from '../components/ExplainerVideo.astro';

// Icons
const ConcreteIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M4 10h16"/><path d="M4 16h16"/><path d="M10 4v16"/><path d="M16 4v16"/></svg>`;
const TimberIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 22h20L12 2z"/><path d="M12 10v6"/><path d="M12 2v2"/><path d="M2 14h20"/></svg>`;
const RepairIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>`;
const ConsultIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>`;
const CheckIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>`;

const services = [
    { 
        title: "Concrete Sleeper Walls", 
        description: "Heavy-duty, steel-reinforced concrete sleeper walls designed to withstand Melbourne's reactive clay soils. The ultimate long-term solution.", 
        icon: ConcreteIcon,
        image: "/images/service-1.png", 
        link: "/services/concrete-sleeper-retaining-walls"
    },
    { 
        title: "Timber Sleeper Walls", 
        description: "Classic aesthetic appeal using treated pine or hardwood. Perfect for garden beds and lower-height retention needs.", 
        icon: TimberIcon,
        image: "/images/service-2.png",
        link: "/services/timber-retaining-walls"
    },
    { 
        title: "Retaining Wall Repair", 
        description: "Expert diagnosis and repair for leaning, cracked, or failing walls. We fix drainage issues and structural faults.", 
        icon: RepairIcon, 
        image: "/images/service-3.png",
        link: "/services/retaining-wall-repair"
    },
    { 
        title: "Design & Permitting", 
        description: "Full service from concept to council approval. We handle building permits and engineering requirements.", 
        icon: ConsultIcon,
        image: "/images/service-4.png",
        link: "/services/design-permits"
    }
];

const locations = ["Glen Waverley", "Mount Waverley", "Burwood", "Box Hill", "Blackburn", "Nunawading", "Doncaster", "Templestowe", "Ringwood", "Croydon", "Wantirna", "Ferntree Gully", "Rowville", "Mulgrave", "Wheelers Hill"];

const schema = JSON.stringify({
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "LocalBusiness",
      "name": "Retaining Walls Melbourne",
      "image": "https://retainingwalls.com/images/hero.webp",
      "@id": "https://retainingwalls.com/#organization",
      "url": "https://retainingwalls.com",
      "email": "info@retainingwalls.com",
      "priceRange": "$$",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Melbourne",
        "addressRegion": "VIC",
        "addressCountry": "AU"
      },
      "areaServed":{
        "@type": "GeoCircle",
        "geoMidpoint": {
            "@type": "GeoCoordinates",
            "latitude": -37.8136,
            "longitude": 144.9631
        },
        "geoRadius": "50000"
      }
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Do I need a permit for a retaining wall in Melbourne?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Generally, yes. If your retaining wall is over 1 meter in height or close to a property boundary, a building permit is required. We handle all council approvals for you."
          }
        },
        {
            "@type": "Question",
            "name": "What is the best retaining wall for clay soil?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "For the reactive clay soils common in Melbourne's South East, concrete sleepers with deep steel posts are significantly more durable and stable than timber options."
            }
          }
      ]
    }
  ]
});
---

<Layout title="Retaining Wall Builders Melbourne | South East Specialists" description="Premier retaining wall builders in Melbourne's South Eastern Suburbs. Specializing in concrete sleepers, timber, and structural repairs. Call for a quote." schema={schema}>

    <!-- Background Texture -->
    <div class="fixed inset-0 pointer-events-none opacity-[0.4] z-[100] bg-[url('https://www.transparenttextures.com/patterns/concrete-wall.png')] mix-blend-multiply"></div>

    <main class="flex min-h-screen flex-col items-center font-sans text-slate-800 bg-slate-50 selection:bg-orange-500 selection:text-white">
        
        {/* Hero Section */}
        <section class="relative w-full pt-40 pb-20 lg:pt-60 lg:pb-40 px-6 overflow-hidden">
            <div class="max-w-7xl mx-auto grid lg:grid-cols-2 gap-16 items-center">
                <div class="relative z-10">
                    <div class="inline-flex items-center gap-2 px-4 py-2 bg-amber-50 text-amber-900 rounded-full text-xs font-bold uppercase tracking-wider mb-8 border border-amber-100">
                        <span class="w-2 h-2 rounded-full bg-orange-600 animate-pulse"></span> Serving Melbourne South East
                    </div>
                    <h1 class="text-5xl lg:text-7xl font-extrabold text-slate-900 leading-[1.1] mb-8 tracking-tight">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-amber-700 to-orange-900">Retaining Walls Melbourne.</span> <br />
                        Built Solid. <span class="sr-only">South Eastern Suburbs</span>.
                    </h1>
                    <p class="text-slate-600 text-lg lg:text-xl mb-10 max-w-lg leading-relaxed">
                        We design, build, and repair structural retaining walls. From <strong class="text-amber-800">concrete sleepers</strong> to timber, we provide Australian-grade solutions that last.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="#contact" class="px-8 py-4 bg-slate-900 text-white rounded-xl font-bold text-lg hover:bg-amber-700 transition-colors shadow-xl flex items-center justify-center gap-2">
                            Request Quote
                        </a>
                        <div class="px-8 py-4 bg-white border border-slate-200 text-slate-600 rounded-xl font-medium flex items-center justify-center gap-2 shadow-sm">
                            <div class="w-5 h-5 text-amber-600" set:html={CheckIcon} /> Satisfaction Guarantee
                        </div>
                    </div>
                </div>

                <div class="relative">
                    <div class="absolute -inset-4 bg-amber-500/10 rounded-[40px] rotate-3 blur-2xl"></div>
                    <div class="relative rounded-[32px] overflow-hidden shadow-2xl border-4 border-white aspect-[4/3]">
                        {/* 
                         NOTE: This is a placeholder image. 
                         In a real build, 'hero.webp' should be generated or provided. 
                         For the template, we use a generic placeholder or keep the existing one as a visual example 
                         BUT with a comment that it needs replacing. 
                         */}
                        <img src="/images/hero.webp" alt="Service Description" class="w-full h-full object-cover transform hover:scale-105 transition-transform duration-700" />
                        
                        {/* Guarantee Badge */}
                        <div class="absolute bottom-6 left-6 bg-white/95 backdrop-blur p-6 rounded-2xl shadow-xl border border-amber-100 max-w-xs">
                            <div class="text-amber-800 font-black text-sm uppercase tracking-wider mb-1">Top Quality</div>
                            <div class="font-bold text-slate-900 text-lg leading-tight">"Professional Grade. Lasting Results."</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        {/* Video Section */}
        <ExplainerVideo />

        {/* Services Section */}
        <section id="services" class="w-full py-32 bg-white relative">
            <div class="max-w-7xl mx-auto px-6">
                <div class="text-center mb-24">
                    <h2 class="text-3xl lg:text-5xl font-bold text-slate-900 mb-6">Our Services</h2>
                    <p class="text-slate-500 text-lg max-w-2xl mx-auto">Specializing in high-quality solutions for residential and commercial clients.</p>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                    {services.map(s => (
                        <a href={s.link} class="group relative bg-slate-50 rounded-3xl overflow-hidden hover:shadow-2xl transition-all duration-500 border border-slate-100 block">
                            <div class="h-64 overflow-hidden relative">
                                {/* Fallback image logic or generic placeholder would go here */}
                                <img src={s.image} alt={s.title} class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700" />
                                <div class="absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent"></div>
                            </div>
                            <div class="p-8 relative">
                                <div class="absolute -top-10 right-8 w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-orange-600 shadow-lg group-hover:bg-orange-600 group-hover:text-white transition-colors duration-300">
                                    <div class="w-8 h-8" set:html={s.icon} />
                                </div>
                                <h3 class="text-xl font-bold text-slate-900 mb-4 pr-12">{s.title}</h3>
                                <p class="text-slate-500 leading-relaxed text-sm mb-6">{s.description}</p>
                                <div class="text-orange-600 font-bold text-xs uppercase tracking-widest group-hover:translate-x-2 transition-transform">Get Quote â†’</div>
                            </div>
                        </a>
                    ))}
                </div>
            </div>
        </section>

        {/* Feature / Info Section */}
        <section class="w-full py-32 bg-amber-50 relative border-t border-amber-100">
            <div class="max-w-7xl mx-auto px-6 grid lg:grid-cols-2 gap-16">
                
                {/* Text Content */}
                <div class="space-y-8">
                    <span class="text-amber-600 font-bold tracking-widest uppercase text-xs">Why Choose Us</span>
                    <h2 class="text-4xl font-bold text-slate-900 leading-tight">Expert Solutions for <br/><span class="text-amber-700">South East Melbourne</span></h2>
                    <p class="text-slate-600 text-lg leading-relaxed">
                        Melbourne's South Eastern suburbs present unique challenges like <strong>reactive clay soil</strong> and sloping terrain. We engineer our walls to withstand these conditions permanently.
                    </p>

                    <div class="space-y-6 mt-8">
                        <div class="flex gap-4">
                            <div class="w-12 h-12 bg-white rounded-xl shadow-md border border-amber-100 flex items-center justify-center text-amber-600 shrink-0 font-bold">1</div>
                            <div>
                                <h3 class="text-xl font-bold text-slate-800 mb-2">Professional Process</h3>
                                <p class="text-slate-600 leading-relaxed">We follow a proven methodology to ensure consistency, quality, and efficiency in every job we undertake.</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div class="w-12 h-12 bg-white rounded-xl shadow-md border border-amber-100 flex items-center justify-center text-amber-600 shrink-0 font-bold">2</div>
                            <div>
                                <h3 class="text-xl font-bold text-slate-800 mb-2">Quality Materials</h3>
                                <p class="text-slate-600 leading-relaxed">We never compromise on quality. We use only the best materials to ensure longevity and durability.</p>
                            </div>
                        </div>
                    </div>
                </div>

                {/* Benefits Box */}
                <div class="bg-white p-10 rounded-[2.5rem] shadow-xl border border-slate-100 relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-amber-100 rounded-bl-full opacity-50"></div>
                    
                    <h2 class="text-3xl font-bold text-slate-900 mb-8 relative z-10">Our Guarantee</h2>
                    
                    <div class="space-y-8 relative z-10">
                        <div>
                            <h3 class="text-lg font-bold text-slate-800 mb-2 flex items-center gap-2">
                                <span class="w-2 h-2 bg-amber-500 rounded-full"></span>
                                7-Year Structural Warranty
                            </h3>
                            <p class="text-slate-600 text-sm leading-relaxed">
                                We stand by our workmanship. Every structural retaining wall builds comes with a comprehensive 7-year structural warranty for your complete peace of mind.
                            </p>
                        </div>
                        
                        <div>
                            <h3 class="text-lg font-bold text-slate-800 mb-2 flex items-center gap-2">
                                <span class="w-2 h-2 bg-amber-500 rounded-full"></span>
                                Fully Licensed & Insured
                            </h3>
                            <p class="text-slate-600 text-sm leading-relaxed">
                                Don't risk it with cowboys. We are Registered Building Practitioners (DB-L) with $10m Public Liability Insurance.
                            </p>
                        </div>

                         <div>
                            <h3 class="text-lg font-bold text-slate-800 mb-2 flex items-center gap-2">
                                <span class="w-2 h-2 bg-amber-500 rounded-full"></span>
                                Fixed Price Contracts
                            </h3>
                            <p class="text-slate-600 text-sm leading-relaxed">
                                No hidden surprises. We provide detailed, transparent, fixed-price quotes so you know exactly what you're paying upfront.
                            </p>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        {/* Technical/Detail Section */}
        <section class="w-full py-32 bg-slate-900 text-slate-300 px-6">
            <div class="max-w-4xl mx-auto">
                <div class="mb-16">
                     <span class="text-amber-500 font-bold tracking-widest uppercase text-xs">Technical Details</span>
                     <h2 class="text-4xl lg:text-5xl font-bold text-white mt-4 mb-8">Built to <span class="text-amber-500">Last</span></h2>
                     <p class="text-lg text-slate-400">Why our solution is the superior choice for your needs.</p>
                </div>

                <div class="grid gap-6 mb-24">
                    <div class="bg-slate-800/50 p-8 rounded-2xl border border-slate-700 hover:border-amber-500/50 transition-colors">
                        <h4 class="text-white font-bold text-lg mb-2">Engineered for Reactive Clay</h4>
                        <p class="text-sm leading-relaxed">Melbourne's South East is notorious for reactive clay soil. We use deeper, steel-reinforced concrete piers to prevent wall movement and cracking.</p>
                    </div>
                    <div class="bg-slate-800/50 p-8 rounded-2xl border border-slate-700 hover:border-amber-500/50 transition-colors">
                        <h4 class="text-white font-bold text-lg mb-2">50+ Year Lifespan</h4>
                        <p class="text-sm leading-relaxed">Unlike timber which rots in 15-20 years, our concrete sleepers are rot-proof, termite-proof, and fire-resistant, offering a lifetime solution.</p>
                    </div>
                     <div class="bg-slate-800/50 p-8 rounded-2xl border border-slate-700 hover:border-amber-500/50 transition-colors">
                        <h4 class="text-white font-bold text-lg mb-2">Council Compliant Drainage</h4>
                        <p class="text-sm leading-relaxed">Hydrostatic pressure kills walls. We install agricultural drains and free-draining crushed rock backfill to ensure full compliance with Building Code 3.11.</p>
                    </div>
                </div>

                {/* FAQ Expansion */}
                <div class="border-t border-slate-800 pt-16">
                    <h3 class="text-3xl font-bold text-white mb-12">Common Questions</h3>
            <div class="space-y-8">
                        <div>
                            <h4 class="text-xl font-bold text-amber-400 mb-2">Do I need a building permit?</h4>
                            <p class="leading-relaxed">In most cases, yes. Any retaining wall over 1m in height, or close to a boundary/building, requires a permit. We manage the entire permit process with your local council (Monash, Casey, etc.).</p>
                        </div>
                        <div>
                            <h4 class="text-xl font-bold text-amber-400 mb-2">Concrete vs. Timber Sleepers?</h4>
                            <p class="leading-relaxed">Timber is cheaper upfront but has a lifespan of 15-20 years. Concrete sleepers are structurally superior, rot-proof, and can last 50+ years, making them better value for money in the long run.</p>
                        </div>
                        <div>
                            <h4 class="text-xl font-bold text-amber-400 mb-2">How much does a retaining wall cost?</h4>
                            <p class="leading-relaxed">Costs vary based on height, access, and engineering requirements. Timber walls typically start from $350/sqm, while concrete sleepers start from $450/sqm. We provide fixed-price quotes after a site inspection.</p>
                        </div>
                        <div>
                            <h4 class="text-xl font-bold text-amber-400 mb-2">Do you fix failing walls?</h4>
                            <p class="leading-relaxed">Yes. We specialize in diagnosing and repairing leaning or cracked walls. Often, this involves improving drainage behind the wall or reinforcing the footings rather than a full rebuild.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        {/* Locations Ticker */}
        <div class="w-full py-12 bg-sky-900 overflow-hidden relative">
            <div class="flex gap-16 whitespace-nowrap animate-marquee opacity-80">
                {[...locations, ...locations, ...locations].map(loc => (
                    <span class="text-sky-100 font-bold text-2xl uppercase tracking-widest flex items-center gap-8">
                        {loc} <div class="w-2 h-2 bg-white/30 rounded-full"></div>
                    </span>
                ))}
            </div>
        </div>

    </main>

    <style is:global>
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        .animate-marquee {
            animation: marquee 40s linear infinite;
        }
    </style>
</Layout>
